#!/bin/bash 

db_state=$(echo "select instance_name, status, database_status from v\$instance;" | sqlplus -s / as sysdba)
В переменную db_state записываем состояние БД. Данные берём из v$instance, но добавляем перед $ знак \, чтобы часть после $ была продолжением v$instance, а не v и $instance.
Далее всё это выполняем под sqlplus / as sysdba и добавляем туда -s для того, чтобы нам не выводились сообщения о подключении и тд.
-s от слова silence.


listener_state=$(lsnrctl status)
В переменную listener_state записываем состояние листенера. Тут всё просто и понятно.



db_info=$(echo "select name, db_unique_name, (select file_name from v\$passwordfile_info) as way from v\$database;" | sqlplus -s / as sysdba)
В переменную db_info записываем информацию о БД. Тут у нас сложный запрос, в котром из v$database мы берём имена базы "общее и уникальное" (на мой взгляд, разница лишь в том, что общее имя пишестя заглавными буквами, а уникальное прописными).
Далее делаем вложенный запрос, в котором из v\$passwordfile_info мы берём путь к БД (хотя я могу ошибаться, путь какой-то нашёлся и то хорошо) и записываем его как way

Ниже идёт простой вывод инфорамии

echo ======================================================================================================
echo DB state:
echo "$db_state"
echo ======================================================================================================
echo Listener state:
echo "$listener_state"
echo ======================================================================================================
echo DB info:
echo "$db_info"
